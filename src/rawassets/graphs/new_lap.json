// When a new lap occurs, check the score. If the score is greater than the
// target score, increase speed, set a higher target, and keep going. If the
// score is not higher than the target, end the game.
{
  "node_list": [
    {
      "module": "entity",
      "name": "raft_entity",
      "input_edge_list": [
        {
          "edge_type": "Pulse"
        }
      ]
    },
    {
      "module": "rail_denizen",
      "name": "rail_denizen",
      "input_edge_list": [
        {
          "edge_type": "Pulse"
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 0,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "rail_denizen",
      "name": "new_lap",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 1,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "entity",
      "name": "player_entity",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 2,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "attributes",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 3,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "get_attribute",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 4,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Int",
          "edge": {
            "value": "fpl.zooshi.AttributeDef.PatronsFed"
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "get_attribute",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 4,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Int",
          "edge": {
            "value": "fpl.zooshi.AttributeDef.TargetScore"
          }
        }
      ]
    },
    {
      "module": "float_math",
      "name": "greater_than_or_equals",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 5,
            "edge_index": 0
          }
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 6,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "logic",
      "name": "boolean_pulse",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 7,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "entity",
      "name": "raft_entity",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 8,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "rail_denizen",
      "name": "rail_denizen",
      "input_edge_list": [
        {
          "edge_type": "Pulse"
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 9,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "rail_denizen",
      "name": "get_rail_speed",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 10,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "float_math",
      "name": "add",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 11,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Float",
          "edge": {
            "value": 0.25
          }
        }
      ]
    },
    {
      "module": "rail_denizen",
      "name": "set_rail_speed",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 2,
            "edge_index": 0
          }
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 10,
            "edge_index": 0
          }
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 12,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "entity",
      "name": "player_entity",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 8,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "attributes",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 14,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "get_attribute",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 15,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Int",
          "edge": {
            "value": "fpl.zooshi.AttributeDef.PatronsFed"
          }
        }
      ]
    },
    {
      "module": "float_math",
      "name": "add",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 16,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Float",
          "edge": {
            "value": 20
          }
        }
      ]
    },
    {
      "module": "attributes",
      "name": "set_attribute",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 15,
            "edge_index": 0
          }
        },
        {
          "edge_type": "Int",
          "edge": {
            "value": "fpl.zooshi.AttributeDef.TargetScore"
          }
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 17,
            "edge_index": 0
          }
        }
      ]
    },
    {
      "module": "game_state",
      "name": "request_state",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 8,
            "edge_index": 1
          }
        },
        {
          "edge_type": "Int",
          "edge": {
            "value": 6 // Game over screen(kGameStateGameOver).
          }
        }
      ]
    },
    {
      // Node 20: Check condition.
      "module": "patron",
      "name": "check_delicious_cycle",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 2, // void input.
            "edge_index": 0
          }
        },
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 0, // Raft ref.
            "edge_index": 0
          }
        }
      ]
    },
    {
      // Node 21: Grant achievement if the condition met.
      "module": "gpg",
      "name": "grant_achievement",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 20,
            "edge_index": 0
          }
        },
        {
          "edge_type": "String",
          "edge": {
            "value": "ADeliciousCycle"
          }
        }
      ]
    },
    {
      "module": "audio",
      "name": "play_sound",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 8,
            "edge_index": 0
          }
        },
        {
          "edge_type": "SoundHandle",
          "edge": {
            "value": "successful_lap"
          }
        },
        {
          "edge_type": "Vec3",
          "edge": {
            "value": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "edge_type": "Float",
          "edge": {
            "value": 1.0
          }
        }
      ]
    },
    {
      "module": "audio",
      "name": "play_sound",
      "input_edge_list": [
        {
          "edge_type": "OutputEdgeTarget",
          "edge": {
            "node_index": 8,
            "edge_index": 1
          }
        },
        {
          "edge_type": "SoundHandle",
          "edge": {
            "value": "unsuccessful_lap"
          }
        },
        {
          "edge_type": "Vec3",
          "edge": {
            "value": {
              "x": 0.0,
              "y": 0.0,
              "z": 0.0
            }
          }
        },
        {
          "edge_type": "Float",
          "edge": {
            "value": 1.0
          }
        }
      ]
    }
  ]
}
